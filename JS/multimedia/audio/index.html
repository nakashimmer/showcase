<!DOCTYPE html>
<html>
	<head>
		<!-- Google Analytics --><script src="/ga.js"></script>
		<meta charset="utf-8">
		<title>オーディオのコントロール</title>
		<meta name=viewport content="width=device-width">
		<link rel="stylesheet" href="../../../sample.css">
		<style>
			ul{
				display: flex;
				list-style:none;
				margin:0;
			}
			li{
				display:block;
				flex:1;}
			button{
				width:100%;
				line-height:80px;
			}
			#info{display:flex;margin:1em 0;}
			#info>div{
				flex:1;border:1px solid gray;padding:1em;
				border-right:none;
			}
			#info>div:last-of-type{
				border-right:1px solid gray;
			}
		</style>

	</head>
	<body>
		<h1>オーディオのコントロール</h1>
		<div id="wrap">
			<audio id="myaudio">
				<source src="audio.mp3">
			</audio>
					
			<ul>
				<li><button onclick="SOUND.play();">再生</button></li>
				<li><button onclick="SOUND.pause();">停止</button></li>
				<li><button onclick="SOUND.volume+=0.1;">音を大きく</button></li>
				<li><button onclick="SOUND.volume-=0.1;">音を小さく</button></li>
				<li><button onclick="SOUND.playbackRate+=0.1;">早く</button></li>
				<li><button onclick="SOUND.playbackRate-=0.1;">遅く</button></li>
			</ul>
			
			<p id="info">情報</p>
		</div>

		<footer>
			<p><small>(C)<a href="https://tokyoappwork.shop">東京アプリ・ワークショップ</a>・<a href="https://webtechpromo.org">Web技術振興協会</a></small></p>
		</footer>	
	
		<script>
			const SOUND = document.getElementById("myaudio");
			const INFO = document.getElementById("info");
			
			SOUND.addEventListener("timeupdate",(e)=>{ 
				INFO.innerHTML
					= "<div>再生位置：" + short(SOUND.currentTime)+ "秒</div>"
					+ "<div>長さ：" + short(SOUND.duration)+"秒</div>"
					+ "<div>音量：" + short(SOUND.volume)+"倍</div>"
					+ "<div>スピード：" + short(SOUND.playbackRate)+"倍速</div>";
			});

			function short(n){
				return Math.floor(n*10)/10;
			}
			
		</script>
	</body>
</html>