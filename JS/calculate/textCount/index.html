<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>文字数カウント</title>
		<link rel="stylesheet" href="../../../sample.css">
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			#input1 {
				width: calc(100% - 3em - 2px);
				height: 20em;
				text-align: left;
				padding: 0.5em;
				border-radius: 1em;
			}

			#output1 {
				color: red;
				margin: 0;
			}

			h1 {
				text-align: center;
			}

			#wrap p {
				margin: 1em;
			}
		</style>
	</head>
	<body>
		<h1>文字数カウント</h1>
		<div id="wrap">
			<p>
				<textarea id="input1" placeholder="カウントしたいテキストをコピーペーストしてください。"></textarea>
			</p>
			<p>
				<button onclick="count1();">カウントする</button> 結果は:<span id="output1">？</span>文字
			<p><small>簡単な文字数カウントです。空白・改行・インデント等を除いた文字数を全角半角の区別なくカウントします。</small></p>
			</p>
		</div>
		<footer>
			<p><small>(C)<a href="https://www.facebook.com/NakashimaShunji/">なかしまぁ先生</a></small>
			</p>
		</footer>
		<script>
			const input1 = document.getElementById("input1");
			const output1 = document.getElementById("output1");

			input1.value = sessionStorage.getItem("textCount");
			input1.addEventListener("input", count1);

			function count1() {
				let text = input1.value;
				sessionStorage.setItem("textCount", text);
				text = text
					.replaceAll(" ", "").replaceAll("　", "")
					.replaceAll("¥r", "").replaceAll("\r", "")
					.replaceAll("¥n", "").replaceAll("\n", "")
					.replaceAll("¥t", "").replaceAll("\t", "");
				output1.innerHTML = text.trim().length;
			}
		</script>
	</body>
</html>